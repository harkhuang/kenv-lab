# Redis集群终极性能测试报告

**测试版本:** 高效优化版 v2.0
**测试时间:** 2025-07-27 23:53:34
**测试目标:** 3节点 vs 6节点集群性能对比
**优化特性:**
- ✅ 多策略测试，确保兼容性
- ✅ 超时保护，避免卡死
- ✅ 智能QPS提取
- ✅ 集群预热机制
- ✅ 资源竞争优化

**测试参数:**
- **数据大小:** 64 bytes
- **测试操作:** set, get, incr
- **并发级别:** 25, 50
- **请求数量:** 5000, 10000
- **超时设置:** 30秒

---

## 3节点集群测试结果

### set 操作性能
| 并发数 | 请求数 | QPS |
|--------|--------|-----|
| 25 | 5000 | [0;34m[INFO][0m 测试 3节点 - set (并发:25, 请求:5000)
[0;34m[INFO][0m 尝试策略: --csv
[1;33m[WARN][0m 策略失败，尝试下一个...
[0;34m[INFO][0m 尝试策略: -q
[1;33m[WARN][0m 策略失败，尝试下一个...
[0;34m[INFO][0m 尝试策略: 64
[1;33m[WARN][0m 策略失败，尝试下一个...
0 |
| 25 | 10000 | [0;34m[INFO][0m 测试 3节点 - set (并发:25, 请求:10000)
[0;34m[INFO][0m 尝试策略: --csv
[1;33m[WARN][0m 策略失败，尝试下一个...
[0;34m[INFO][0m 尝试策略: -q
[1;33m[WARN][0m 策略失败，尝试下一个...
[0;34m[INFO][0m 尝试策略: 64
[1;33m[WARN][0m 策略失败，尝试下一个...
0 |
| 50 | 5000 | [0;34m[INFO][0m 测试 3节点 - set (并发:50, 请求:5000)
[0;34m[INFO][0m 尝试策略: --csv
[1;33m[WARN][0m 策略失败，尝试下一个...
[0;34m[INFO][0m 尝试策略: -q
[1;33m[WARN][0m 策略失败，尝试下一个...
[0;34m[INFO][0m 尝试策略: 64
[1;33m[WARN][0m 策略失败，尝试下一个...
0 |
| 50 | 10000 | [0;34m[INFO][0m 测试 3节点 - set (并发:50, 请求:10000)
[0;34m[INFO][0m 尝试策略: --csv
[1;33m[WARN][0m 策略失败，尝试下一个...
[0;34m[INFO][0m 尝试策略: -q
[1;33m[WARN][0m 策略失败，尝试下一个...
[0;34m[INFO][0m 尝试策略: 64
[1;33m[WARN][0m 策略失败，尝试下一个...
0 |

**set 最大QPS:** 0 ()

### get 操作性能
| 并发数 | 请求数 | QPS |
|--------|--------|-----|
| 25 | 5000 | [0;34m[INFO][0m 测试 3节点 - get (并发:25, 请求:5000)
[0;34m[INFO][0m 尝试策略: --csv
[1;33m[WARN][0m 策略失败，尝试下一个...
[0;34m[INFO][0m 尝试策略: -q
[1;33m[WARN][0m 策略失败，尝试下一个...
[0;34m[INFO][0m 尝试策略: 64
[1;33m[WARN][0m 策略失败，尝试下一个...
0 |
| 25 | 10000 | [0;34m[INFO][0m 测试 3节点 - get (并发:25, 请求:10000)
[0;34m[INFO][0m 尝试策略: --csv
[1;33m[WARN][0m 策略失败，尝试下一个...
[0;34m[INFO][0m 尝试策略: -q
[1;33m[WARN][0m 策略失败，尝试下一个...
[0;34m[INFO][0m 尝试策略: 64
[1;33m[WARN][0m 策略失败，尝试下一个...
0 |
| 50 | 5000 | [0;34m[INFO][0m 测试 3节点 - get (并发:50, 请求:5000)
[0;34m[INFO][0m 尝试策略: --csv
[1;33m[WARN][0m 策略失败，尝试下一个...
[0;34m[INFO][0m 尝试策略: -q
[1;33m[WARN][0m 策略失败，尝试下一个...
[0;34m[INFO][0m 尝试策略: 64
[1;33m[WARN][0m 策略失败，尝试下一个...
0 |
| 50 | 10000 | [0;34m[INFO][0m 测试 3节点 - get (并发:50, 请求:10000)
[0;34m[INFO][0m 尝试策略: --csv
[1;33m[WARN][0m 策略失败，尝试下一个...
[0;34m[INFO][0m 尝试策略: -q
[1;33m[WARN][0m 策略失败，尝试下一个...
[0;34m[INFO][0m 尝试策略: 64
[1;33m[WARN][0m 策略失败，尝试下一个...
0 |

**get 最大QPS:** 0 ()

### incr 操作性能
| 并发数 | 请求数 | QPS |
|--------|--------|-----|
| 25 | 5000 | [0;34m[INFO][0m 测试 3节点 - incr (并发:25, 请求:5000)
[0;34m[INFO][0m 尝试策略: --csv
[1;33m[WARN][0m 策略失败，尝试下一个...
[0;34m[INFO][0m 尝试策略: -q
[1;33m[WARN][0m 策略失败，尝试下一个...
[0;34m[INFO][0m 尝试策略: 64
[1;33m[WARN][0m 策略失败，尝试下一个...
0 |
| 25 | 10000 | [0;34m[INFO][0m 测试 3节点 - incr (并发:25, 请求:10000)
[0;34m[INFO][0m 尝试策略: --csv
[1;33m[WARN][0m 策略失败，尝试下一个...
[0;34m[INFO][0m 尝试策略: -q
[1;33m[WARN][0m 策略失败，尝试下一个...
[0;34m[INFO][0m 尝试策略: 64
[1;33m[WARN][0m 策略失败，尝试下一个...
0 |
| 50 | 5000 | [0;34m[INFO][0m 测试 3节点 - incr (并发:50, 请求:5000)
[0;34m[INFO][0m 尝试策略: --csv
[1;33m[WARN][0m 策略失败，尝试下一个...
[0;34m[INFO][0m 尝试策略: -q
[1;33m[WARN][0m 策略失败，尝试下一个...
[0;34m[INFO][0m 尝试策略: 64
[1;33m[WARN][0m 策略失败，尝试下一个...
0 |
| 50 | 10000 | [0;34m[INFO][0m 测试 3节点 - incr (并发:50, 请求:10000)
[0;34m[INFO][0m 尝试策略: --csv
[1;33m[WARN][0m 策略失败，尝试下一个...
[0;34m[INFO][0m 尝试策略: -q
[1;33m[WARN][0m 策略失败，尝试下一个...
[0;34m[INFO][0m 尝试策略: 64
[1;33m[WARN][0m 策略失败，尝试下一个...
0 |

**incr 最大QPS:** 0 ()

### 3节点集群总结
- **最高QPS:** 0
- **最佳操作:** 


## 6节点集群测试结果

### set 操作性能
| 并发数 | 请求数 | QPS |
|--------|--------|-----|
| 25 | 5000 | [0;34m[INFO][0m 测试 6节点 - set (并发:25, 请求:5000)
[0;34m[INFO][0m 尝试策略: --csv
[1;33m[WARN][0m 策略失败，尝试下一个...
[0;34m[INFO][0m 尝试策略: -q
[1;33m[WARN][0m 策略失败，尝试下一个...
[0;34m[INFO][0m 尝试策略: 64
[1;33m[WARN][0m 策略失败，尝试下一个...
0 |
| 25 | 10000 | [0;34m[INFO][0m 测试 6节点 - set (并发:25, 请求:10000)
[0;34m[INFO][0m 尝试策略: --csv
[1;33m[WARN][0m 策略失败，尝试下一个...
[0;34m[INFO][0m 尝试策略: -q
[1;33m[WARN][0m 策略失败，尝试下一个...
[0;34m[INFO][0m 尝试策略: 64
[1;33m[WARN][0m 策略失败，尝试下一个...
0 |
| 50 | 5000 | [0;34m[INFO][0m 测试 6节点 - set (并发:50, 请求:5000)
[0;34m[INFO][0m 尝试策略: --csv
[1;33m[WARN][0m 策略失败，尝试下一个...
[0;34m[INFO][0m 尝试策略: -q
[1;33m[WARN][0m 策略失败，尝试下一个...
[0;34m[INFO][0m 尝试策略: 64
[1;33m[WARN][0m 策略失败，尝试下一个...
0 |
| 50 | 10000 | [0;34m[INFO][0m 测试 6节点 - set (并发:50, 请求:10000)
[0;34m[INFO][0m 尝试策略: --csv
[1;33m[WARN][0m 策略失败，尝试下一个...
[0;34m[INFO][0m 尝试策略: -q
[1;33m[WARN][0m 策略失败，尝试下一个...
[0;34m[INFO][0m 尝试策略: 64
[1;33m[WARN][0m 策略失败，尝试下一个...
0 |

**set 最大QPS:** 0 ()

### get 操作性能
| 并发数 | 请求数 | QPS |
|--------|--------|-----|
| 25 | 5000 | [0;34m[INFO][0m 测试 6节点 - get (并发:25, 请求:5000)
[0;34m[INFO][0m 尝试策略: --csv
[1;33m[WARN][0m 策略失败，尝试下一个...
[0;34m[INFO][0m 尝试策略: -q
[1;33m[WARN][0m 策略失败，尝试下一个...
[0;34m[INFO][0m 尝试策略: 64
[1;33m[WARN][0m 策略失败，尝试下一个...
0 |
| 25 | 10000 | [0;34m[INFO][0m 测试 6节点 - get (并发:25, 请求:10000)
[0;34m[INFO][0m 尝试策略: --csv
[1;33m[WARN][0m 策略失败，尝试下一个...
[0;34m[INFO][0m 尝试策略: -q
[1;33m[WARN][0m 策略失败，尝试下一个...
[0;34m[INFO][0m 尝试策略: 64
[1;33m[WARN][0m 策略失败，尝试下一个...
0 |
| 50 | 5000 | [0;34m[INFO][0m 测试 6节点 - get (并发:50, 请求:5000)
[0;34m[INFO][0m 尝试策略: --csv
[1;33m[WARN][0m 策略失败，尝试下一个...
[0;34m[INFO][0m 尝试策略: -q
[1;33m[WARN][0m 策略失败，尝试下一个...
[0;34m[INFO][0m 尝试策略: 64
[1;33m[WARN][0m 策略失败，尝试下一个...
0 |
| 50 | 10000 | [0;34m[INFO][0m 测试 6节点 - get (并发:50, 请求:10000)
[0;34m[INFO][0m 尝试策略: --csv
[1;33m[WARN][0m 策略失败，尝试下一个...
[0;34m[INFO][0m 尝试策略: -q
[1;33m[WARN][0m 策略失败，尝试下一个...
[0;34m[INFO][0m 尝试策略: 64
[1;33m[WARN][0m 策略失败，尝试下一个...
0 |

**get 最大QPS:** 0 ()

### incr 操作性能
| 并发数 | 请求数 | QPS |
|--------|--------|-----|
| 25 | 5000 | [0;34m[INFO][0m 测试 6节点 - incr (并发:25, 请求:5000)
[0;34m[INFO][0m 尝试策略: --csv
[1;33m[WARN][0m 策略失败，尝试下一个...
[0;34m[INFO][0m 尝试策略: -q
[1;33m[WARN][0m 策略失败，尝试下一个...
[0;34m[INFO][0m 尝试策略: 64
[1;33m[WARN][0m 策略失败，尝试下一个...
0 |
| 25 | 10000 | [0;34m[INFO][0m 测试 6节点 - incr (并发:25, 请求:10000)
[0;34m[INFO][0m 尝试策略: --csv
[1;33m[WARN][0m 策略失败，尝试下一个...
[0;34m[INFO][0m 尝试策略: -q
[1;33m[WARN][0m 策略失败，尝试下一个...
[0;34m[INFO][0m 尝试策略: 64
[1;33m[WARN][0m 策略失败，尝试下一个...
0 |
| 50 | 5000 | [0;34m[INFO][0m 测试 6节点 - incr (并发:50, 请求:5000)
[0;34m[INFO][0m 尝试策略: --csv
[1;33m[WARN][0m 策略失败，尝试下一个...
[0;34m[INFO][0m 尝试策略: -q
[1;33m[WARN][0m 策略失败，尝试下一个...
[0;34m[INFO][0m 尝试策略: 64
[1;33m[WARN][0m 策略失败，尝试下一个...
0 |
| 50 | 10000 | [0;34m[INFO][0m 测试 6节点 - incr (并发:50, 请求:10000)
[0;34m[INFO][0m 尝试策略: --csv
[1;33m[WARN][0m 策略失败，尝试下一个...
[0;34m[INFO][0m 尝试策略: -q
[1;33m[WARN][0m 策略失败，尝试下一个...
[0;34m[INFO][0m 尝试策略: 64
[1;33m[WARN][0m 策略失败，尝试下一个...
0 |

**incr 最大QPS:** 0 ()

### 6节点集群总结
- **最高QPS:** 0
- **最佳操作:** 


## 性能对比分析

### 理论分析
- **3节点集群:** 3个主节点，数据分布在3个分片
- **6节点集群:** 6个主节点，数据分布在6个分片，理论上有更好的并行性

### 单机环境限制
- CPU和内存资源共享
- 网络IO在同一台机器上
- 磁盘IO竞争

### 优化建议
1. **生产环境部署:** 使用多台物理机器
2. **资源隔离:** 使用容器或虚拟机隔离
3. **网络优化:** 配置专用网络
4. **存储优化:** 使用SSD和独立存储

